name: Docker

on:
  [workflow_dispatch]

jobs:
    publis_image:
        runs-on: ubuntu-latest
        steps:
            - name: Checkout repository
              uses: actions/checkout@v4

            - name: Build image
              run: docker build ./ -t frank1o3/bedrock-server:latest

            - name: Push image
              run: |
                docker login -u frank1o3 -p ${{ secrets.DOCKER_TOKEN }}
                docker push frank1o3/bedrock-server:latest
